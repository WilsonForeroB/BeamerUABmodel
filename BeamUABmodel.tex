%------------------------------------------------------
% This is a Beamer model for the UAB members.
% (v1 Sept 2022) written by Wilson Forero (github.com/WilsonForeroB).
%-------------------------------------------------------

\documentclass[10pt,a4paper]{beamer}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amssymb, amsthm, amsmath} 
\usepackage{verbatim}
\usepackage{makeidx}
\usepackage{graphicx}
\usepackage{enotez}
\usepackage{quoting}
\usepackage{url}
\usepackage{eucal}
\setcounter{secnumdepth}{1}
\setbeamercovered{transparent}
\usepackage{quiver}
\usepackage{stackengine} 
\usepackage{xcolor}

%define proposition,definitions, etc..
\theoremstyle{plain}% default
\newtheorem{lem}{Lemma}[section]
\newtheorem{coro}[lem]{Corollary}
\newtheorem{teo}[lem]{Theorem}
\newtheorem{obs}[lem]{Observaci√≥n}
\newtheorem{propo}[lem]{Proposition}
\theoremstyle{definition}
%\theoremstyle{remark}
\newtheorem{exa}[lem]{Example}
\newtheorem{rema}[lem]{Remark}
\newtheorem{defi}[lem]{Definition}

%-------------------------
% BEAMER STYLE UAB
%--------------------------

%title of frames style
\beamertemplatenavigationsymbolsempty
\setbeamertemplate{frametitle}
{
    \begin{centering}
    \insertframetitle\par
    \end{centering}
}

%--------------------
% COLORS
%--------------------
\definecolor{kugreen}{RGB}{75,116,60}
\definecolor{orange}{RGB}{255,127,0}
\definecolor{green}{RGB}{0,153,51}
\definecolor{softgreen}{RGB}{0,192,61}
\definecolor{medgreen}{RGB}{51,171,37}
\definecolor{darkgreen}{RGB}{10,80,2}
\definecolor{blue}{RGB}{3,115,187}
\definecolor{red}{RGB}{221,17,68}
\definecolor{gray}{RGB}{55,55,55}
\definecolor{black}{RGB}{0,0,0}

\definecolor{offwhite}{RGB}{249,242,215}
\definecolor{foreground}{RGB}{23,23,23}
\definecolor{background}{RGB}{255,255,255}
\definecolor{subtitle}{RGB}{102,255,204}
\definecolor{hilight}{RGB}{102,255,204}
\definecolor{vhilight}{RGB}{255,111,207}
\definecolor{lolight}{RGB}{155,155,155}

% -----------
% BEAMER STYLE COLORS
% ------------

\setbeamercolor{titlelike}{fg=darkgreen}
\setbeamercolor{subtitle}{fg=medgreen}
\setbeamercolor{institute}{fg=gray}
\setbeamercolor{sections}{fg=softgreen}
\setbeamercolor{normal text}{fg=foreground,bg=background}
\setbeamercolor{item}{fg=foreground} % color of bullets
\setbeamercolor{subitem}{fg=gray}
\setbeamercolor{itemize/enumerate subbody}{fg=gray}

\setbeamerfont{itemize/enumerate subbody}{size=\footnotesize}
\setbeamerfont{itemize/enumerate subitem}{size=\footnotesize}

\setbeamerfont{footnote}{size=\tiny}

\setbeamersize{text margin left=10pt}
\setbeamersize{text margin right=10pt}
\setbeamersize{sidebar width right=0pt}
\setbeamersize{sidebar width left=0pt}



%---------------------
% BEAMER BACKGROUND
%-------------------


% UAB logo
\usebackgroundtemplate{
    \rule{0pt}{0.97\paperheight}% down
    \hspace*{1.03\paperwidth}% right
    \makebox[2pt][r]{%
        \includegraphics[scale=0.22]{Logo_uab.png} 
    }
}

% color and style blocks
\setbeamertemplate{blocks}[rounded][shadow=true]

\setbeamercolor{block title}{bg=medgreen,fg=white}
% Change standard block width

%\BeforeBeginEnvironment{block}{%
%    \setbeamercolor{block title}{fg=white,bg=softgreen}
%    \setbeamercolor{block body}{fg=black, bg=softgreen!20!white}
%}
%\AfterEndEnvironment{block}{
%        \setbeamercolor{block title}{use=structure,fg=white,bg=structure.fg!75!black}
%        \setbeamercolor{block body}{parent=normal text,use=block title,bg=block title.bg!10!bg}
%}

\BeforeBeginEnvironment{Definition}{%
    \setbeamercolor{block title}{fg=white,bg=darkgreen}
    \setbeamercolor{block body}{fg=black, bg=white}
}
\AfterEndEnvironment{Definition}{
        \setbeamercolor{block title}{use=structure,fg=white,bg=structure.fg!75!black}
        \setbeamercolor{block body}{parent=normal text,use=block title,bg=block title.bg!10!bg}
}

%----------------------------
% speciales blocks lenghts
% ----------------------------
\newenvironment<>{varblock}[2][\textwidth]{%
  \setlength{\textwidth}{#1}
  \begin{actionenv}#3%
    \def\insertblocktitle{#2}%
    \par%
    \usebeamertemplate{block begin}}
  {\par%
    \usebeamertemplate{block end}%
  \end{actionenv}}
  

% -------------------- 
%BEAMER FOOTER STYLE
%--------------------
\setbeamertemplate{footline}[text line]
{
\vbox{
        \insertvrule{0.8pt}{darkgreen}
        \vspace{2.5pt}
        \strut{
        % title of talk
        \textcolor{darkgreen}{Short title talk}        
         \; \; \;
        {\textcolor{softgreen}{\insertsection}} \; \;
        % name authors
        {Your name} \; \; \; 
        % name of congress
        {Name of the congress}
        }
        \hfill\strut{
            \insertframenumber\,/\,\inserttotalframenumber
        }
        \vspace{1pt}
    }
}

%-----------------
% title frame style
%-----------------
\setbeamertemplate{title page}
{
  \vbox{}
  \vfill
  \begin{centering}
  \begin{block}{}
  \begin{center} 
      \textcolor{darkgreen}{\huge \inserttitle}\par%     
  \end{center}
  \end{block}
    \vspace{2.5pt}
    \begin{beamercolorbox}[sep=8pt,center]{author}
      \usebeamerfont{author}\insertauthor
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center]{institute}
      \usebeamerfont{institute}\insertinstitute
    \end{beamercolorbox}
    
    \begin{center}
    %change the size depends of the space of the name of the congress
    \begin{minipage}{5cm}
    \begin{block}{}
    \begin{center}
    % name of congress
     \; Congress name 2022.
     \end{center}
    \end{block}
    \end{minipage}
    \end{center}    
    \vskip0.5em
    % insert image in title page
  \end{centering}
  \vfill
}
% logo right part of the frame
%\logo{\includegraphics[scale=0.22]{Logo_uab.png}}

% imagen de fondo
%\usebackgroundtemplate{\includegraphics [width=\paperwidth,height=\paperheight]{example-image}} % Courtesy of mwe package


%-------------------
% End style beamer
%-------------------



%commutative diagrams
\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{shadows}


%transitions in diagrams tikz
\usetikzlibrary{backgrounds}
  \tikzset{
    invisible/.style={opacity=0},
    visible on/.style={alt=#1{}{invisible}},
    alt/.code args={<#1>#2#3}{%
      \alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}} % \pgfkeysalso doesn't change the path
    },
  }
%Insertar url 
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
}   




\begin{document}

\title[short title]{TITLE TALK}\subtitle{} % Opcional
\author{{\large Your name}}
\institute{Universitat Aut\`{o}noma de Barcelona}  
\date{2022} %date of the talk

\begin{frame}[plain]
\titlepage
\end{frame}

\section{SECTION 1}

\begin{frame}{THEOREM}

\begin{theorem}
Statement Theorem 1.
\end{theorem}

\end{frame}

\section{SECTION 2}

\begin{frame}[fragile]{DEFINITION 1}
\begin{definition}
Statement Definition 1
\end{definition}

%%%minipage environment allows the creation of blocks with adjustable dimensions

\begin{center}
\begin{minipage}{9cm}
\begin{example}
\begin{center}
\begin{tikzpicture}[yscale=1,xscale=1]
\node[draw, visible on=<2->] (box2) at (0,2){%
\begin{tikzcd}[column sep=small,row sep=scriptsize]
	\bullet & \bullet & \bullet \\
	\bullet & \bullet & \bullet
	\arrow[from=1-1, to=2-1]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-3, to=2-3]
	\arrow[from=2-1, to=2-2]
	\arrow[from=1-2, to=1-3]
\end{tikzcd}
};
\node[draw, visible on=<2->] (box1) at (0,0){%
  \begin{tikzcd}[column sep=small,row sep=scriptsize]
  \bullet & \bullet & \bullet
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
  \end{tikzcd}
};
\onslide<2->{
\draw[->>, shorten <=3pt, shorten >=3pt] (box2) to (box1);
}
\end{tikzpicture}
\end{center}
\end{example}
\end{minipage}

\end{center}

\end{frame}


\section{References}

% permite dividr las referencias en varios frames
% allowframebreaks

\begin{frame}[plain]{References}
\fontsize{8pt}{10pt}\selectfont
\begin{thebibliography}{10}

\bibitem{Author1}
{\sc Name Author 1}.
\newblock {\em Name article 1}.
\newblock Journal {\bf Volume} (Year), Pages.

\bibitem{Author2}
{\sc Name Author 2}.
\newblock {\em Name article 1}.
\newblock Journal {\bf Volume} (Year), Pages.



\end{thebibliography}
\end{frame}


\end{document}